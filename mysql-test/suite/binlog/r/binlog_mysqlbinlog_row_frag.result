CREATE TABLE t (a TEXT);
RESET MASTER;
INSERT INTO t SET a=repeat('a', 1024);
SELECT a from t into @a;
FLUSH LOGS;
DELETE FROM t;
SELECT a LIKE @a as 'true' FROM t;
true
1
SELECT @binlog_fragment_0, @binlog_fragment_1 as 'NULL';
@binlog_fragment_0	NULL
NULL	NULL
SET @binlog_fragment_0='012345';
SET @binlog_fragment_2='012345';
BINLOG 2, 'binlog_fragment';
ERROR HY000: Decoding of base64 string failed: BINLOG fragment user variable 'binlog_fragment_1' is unexpectedly empty
SET @binlog_fragment_0='012345';
SET @binlog_fragment_1='012345';
BINLOG 2, 'binlog_fragment';
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use
# Cleanup
DROP TABLE t;
